name: xpBuild
permissions:
  contents: read
  pull-requests: write
on:
  push:
    tags: ["xpv*"]
  pull_request:
    branches: ["xpro"]
  workflow_dispatch:
jobs:
  linux:
    permissions:
      contents: read
      pull-requests: write
      packages: write
    uses: externpro/externpro/.github/workflows/build-linux.yml@main
    secrets:
      automation_token: ${{ secrets.GHCR_TOKEN }}
  macos:
    uses: externpro/externpro/.github/workflows/build-macos.yml@main
    secrets: inherit
  windows:
    uses: externpro/externpro/.github/workflows/build-windows.yml@main
    secrets: inherit
