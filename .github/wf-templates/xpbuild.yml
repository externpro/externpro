name: Build
permissions:
  contents: read
  pull-requests: write
on:
  push:
    branches: [ "dev" ]
  pull_request:
    branches: [ "dev" ]
  workflow_dispatch:
jobs:
  linux:
    permissions:
      contents: read
      pull-requests: write
      packages: write
    uses: externpro/externpro/.github/workflows/build-linux.yml@25.06.1
    with:
      cmake-workflow-preset: Linux
      runon: ubuntu-latest
    secrets: inherit
  linux-arm64:
    permissions:
      contents: read
      pull-requests: write
      packages: write
    uses: externpro/externpro/.github/workflows/build-linux.yml@25.06.1
    with:
      cmake-workflow-preset: Linux
      runon: ubuntu-24.04-arm
    secrets: inherit
  macos:
    uses: externpro/externpro/.github/workflows/build-macos.yml@25.06.1
    with:
      cmake-workflow-preset: Darwin
    secrets: inherit
  windows:
    uses: externpro/externpro/.github/workflows/build-windows.yml@25.06.1
    with:
      cmake-workflow-preset: Windows
    secrets: inherit
